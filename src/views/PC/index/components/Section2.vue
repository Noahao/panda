<template>  <div class="section2" :style="{'background-image': `url(${background})`}">    <div class="title-cont" ref="titleCont">      <div class="title">成都大熊猫繁育研究基地</div>      <div class="rich">中国魅力・熊猫摇篮</div>    </div>    <div class="line">      <img src="https://file.daqsoft.com/uploadfile/server/geekui/panda/PC/line.png" class="image-line" alt="" />      <div class="card-list">        <div          class="card-item"          v-for="(item, index) in dataList"          :key="index"        >          <p class="name">{{ item.title }}</p>          <div class="card">            <div class="img">              <img :src="item.imageUrls[0].url" alt="" />            </div>          </div>        </div>      </div>      <div class="svg-line-wrap">        <svg viewBox="0 0 120 28">          <defs>            <path              id="wave"              d="M 0,10 C 30,10 30,15 60,15 90,15 90,10 120,              10 150,10 150,15 180,15 210,15 210,10 240,              10 v 28 h -240 z">            </path>          </defs>          <use            id="wave3"            class="wave"            xlink:href="#wave"            x="0"            y="-2"></use>          <use            id="wave2"            class="wave"            xlink:href="#wave"            x="0"            y="0"></use>        </svg>      </div>    </div>    <div class="btn">      <img src="https://file.daqsoft.com/uploadfile/server/geekui/panda/PC/panda-btn.png" alt="" />    </div>  </div></template><script>import { TimelineMax } from 'gsap'import { cardDetail, getNewsList } from '@/service/apiList/common'export default {  name: 'SectionTwo',  data() {    return {      background: '',      dataList: [],      titleCont: null,      // 区分是否是首页切换      isHomeChange: false    }  },  created () {    this.cardDetail()    this.getNewsList()  },  mounted () {    this.titleCont = this.$refs.titleCont    // 请不要在下面的代码中使用 === ，会影响判断    // eslint-disable-next-line eqeqeq    this.isHomeChange = this.$parent.$refs.headerCont.$el && this.$parent.$refs.headerCont.$el.style.opacity == 1    this.isHomeChange && this.titleComAniHandle()  },  methods: {    // title 的动画    titleComAniHandle () {      const tm = new TimelineMax({        delay: this.isHomeChange ? 0.8 : 0.3      })      tm.fromTo(this.titleCont, 0.5, {        transform: 'translateY(-20px)',        opacity: 0,      }, {        transform: 'translateY(0px)',        opacity: 1      })    },    cardDetail() {      cardDetail().then(res => {        if (res.code === 0) {          this.background = res.data.images[0]        }      })    },    // 熊猫大使头像    getNewsList() {      getNewsList({        channelCode: 'xmds',      }).then(res => {        if (res.code === 0) {          this.dataList = res.datas        }      })    }  }}</script><style lang="scss" scoped>.section2 {  width: 100%;  height: 100%;  margin: 0;  background-size: cover;  background-repeat: no-repeat;  position: relative;  background-color: #000;  .title-cont {    display: flex;    flex-direction: column;    align-items: center;    position: absolute;    top: 15%;    right: 1.5%;    .title {      font-size: 50px;      letter-spacing: 3px;      color: #fff;      font-weight: 600;    }    .rich {      margin-top: 20px;      padding: 5px 15px;      background-color: rgba(255, 255, 255, 0.3);      font-size: 30px;      letter-spacing: 4.8px;      color: rgba(255, 255, 255, 0.9);      // color: transparent;    }  }  .line {    width: 100%;    position: absolute;    bottom: 100px;    img {      width: 100%;      &.image-line{        position: relative;        top: 0.38rem;      }    }    .card-list {      width: 100%;      height: 100%;      top: 0;      left: 0;      .card-item {        position: absolute;        color: white;        width: 272px;        cursor: pointer;        z-index: 1;        &:hover {          .card {            opacity: 1;          }        }        .name {          margin: 0 auto;          text-align: center;          width: 160px;          font-size: 16px;          font-weight: bold;          color: #ffffff;          line-height: 1;          position: relative;          padding-bottom: 30px;          &::after{            position: absolute;            content: '';            width: 8px;            height: 8px;            border-radius: 50%;            background: white;            top: -21.5px;            left: 50%;            transform: translateX(-50%);          }          &::before{            position: absolute;            content: '';            width: 16px;            height: 16px;            border-radius: 50%;            background: rgba(255, 255, 255, .2);            top: -55%;            left: 50%;            margin-left: -8px;          }        }        .card {          position: absolute;          width: 120px;          height: 120px;          border-radius: 50%;          transform: translate(-50%, -50%);          top: 0;          left: 50%;          background: rgba(245, 245, 245, 0.2);          opacity: 0;          transition: all 0.8s;          .img {            width: 100px;            position: absolute;            transform: translate(-50%, -50%);            top: 50%;            left: 50%;            img {              width: 100%;              border-radius: 50%;            }          }        }      }    }    .svg-line-wrap{      position: absolute;      left: 0px;      top: -0.8rem;      width: 100%;      z-index: 0;      svg{        width: 100%;        opacity: 1;        transform: translate3d(0, 0, 0);        transition: all 1s ease-out;        backface-visibility: hidden;        .wave{          stroke: rgba(255, 255, 255, 0.5);          stroke-width: 0.1px;          fill: transparent;          animation: wave 3s linear;          animation-iteration-count: infinite;          &#wave3 {            animation-duration: 7s;            opacity: 0.3;          }          &#wave2 {            animation-duration: 5s;            animation-direction: reverse;            opacity: 0.3;          }        }      }    }  }  .btn {    position: absolute;    bottom: 10px;    left: 50%;    transform: translateX(-50%);  }}@media screen and (min-width: 1921px) {  .card-list {    .card-item {      &:nth-of-type(1) {        left: 0;        top: 26%;      }      &:nth-of-type(2) {        left: 13%;        top: 27%;      }      &:nth-of-type(3) {        left: 24%;        top: 44%;      }      &:nth-of-type(4) {        left: 35%;        top: 67%;      }      &:nth-of-type(5) {        left: 46%;        top: 81%;      }      &:nth-of-type(6) {        left: 57%;        top: 79%;      }      &:nth-of-type(7) {        left: 68%;        top: 51%;      }      &:nth-of-type(8) {        left: 79%;        top: 35%;      }      &:nth-of-type(9) {        left: 90%;        top: 38%;      }    }  }}@media screen and (max-width: 1920px) {  .card-list {    .card-item {      &:nth-of-type(1) {        left: 0;        top: 27%;      }      &:nth-of-type(2) {        left: 13%;        top: 31%;      }      &:nth-of-type(3) {        left: 24%;        top: 50%;      }      &:nth-of-type(4) {        left: 35%;        top: 72%;      }      &:nth-of-type(5) {        left: 46%;        top: 84%;      }      &:nth-of-type(6) {        left: 57%;        top: 78%;      }      &:nth-of-type(7) {        left: 68%;        top: 49%;      }      &:nth-of-type(8) {        left: 79%;        top: 37%;      }      &:nth-of-type(9) {        left: 90%;        top: 43%;      }    }  }}// 动画@keyframes wave {  to {    transform: translateX(-100%);  }}</style>