<template>  <div class="section-two">    <div class="title">党的建设</div>    <div class="main">      <div class="tab-wrap">        <div v-for="(item, index) in tabList" :key="index" class="list-box" :class="{active: index === currentIndex}" @click="itemClick(item, index)">          {{ item.name }}        </div>      </div>      <div class="list-wrap">        <div v-for="(item, index) in list" :key="index" @click="PCJumpDetails(item, 'djgz')" class="list-box wow" :data-wow-delay="getDelay(index)" :style="{'margin-bottom': index < 2 ? '60px' : ''}" :class="index % 2 ? 'bounceInRight' : 'bounceInLeft'">          <div class="title">{{ item.title }}</div>          <div class="desc">{{ getDesc(item.summary) }}</div>        </div>      </div>      <div class="more-btn-two" @click="$router.push('/pc/partyWork/list')">        更多        <MyIcon :name="'shuangjiantou'" size="10px"/>      </div>    </div>  </div></template><script>import { getNewsList, getChannelSubset } from '@/service/apiList/common'export default {  name: 'sectionOne',  data () {    return {      tabList: [],      currentIndex: 0,      list: [        {          title: '中共中央关于加强对“一把手”和领导班子监督的意见',          desc: '加强对主要领导干部和领导班子的监督，是新时代坚持和加强党的全面领导，提高党的建设质量，推动全面从严治党向纵深发展的必然要求。为深入贯彻党的十九大和十九届二中、三中...'        },        {          title: '中共中央关于加强对“一把手”和领导班子监督的意见',          desc: '加强对主要领导干部和领导班子的监督，是新时代坚持和加强党的全面领导，提高党的建设质量，推动全面从严治党向纵深发展的必然要求。为深入贯彻党的十九大和十九届二中、三中...'        },        {          title: '中共中央关于加强对“一把手”和领导班子监督的意见',          desc: '加强对主要领导干部和领导班子的监督，是新时代坚持和加强党的全面领导，提高党的建设质量，推动全面从严治党向纵深发展的必然要求。为深入贯彻党的十九大和十九届二中、三中...'        },        {          title: '中共中央关于加强对“一把手”和领导班子监督的意见',          desc: '加强对主要领导干部和领导班子的监督，是新时代坚持和加强党的全面领导，提高党的建设质量，推动全面从严治党向纵深发展的必然要求。为深入贯彻党的十九大和十九届二中、三中...'        }      ]    }  },  mounted () {    this.getChannelSubset()  },  computed: {    getDelay() {      return (index) => {        try {          return `${index / 10}s`        } catch (error) {          return '0.1s'        }      }    },    getDesc() {      return (desc) => {        let reg = /\s+/g        let trimStr = desc.replace(reg,'')        return trimStr      }    }  },  methods: {    itemClick (item, index) {      if(this.currentIndex !== index) {        this.currentIndex = index        this.getList(item.channelCode)      }    },    // 党的建设    async getList(channelCode) {      const res = await getNewsList({        channelCode,        pageSize: 4,        currPage: 1,      })      if (res.code === 0) {        this.list = res.datas      }    },    // tab    async getChannelSubset() {      const res = await getChannelSubset({        channelCode: 'ddjs',      })      if (res.code === 0) {        this.tabList = res.data.subset        this.getList(this.tabList[0].channelCode)      }    },    PCJumpDetails(item, channelCode) {      this.$router.push({        path: '/pc/details',        query: {          id: item.id,          channelCode: channelCode,          tab: 'ddjs'        },      })    },  }}</script><style lang="scss" scoped>.section-two {  width: 100%;  padding: 80px 0;  background: url("https://file.daqsoft.com/uploadfile/server/geekui/panda/PC/partyWork/img04.jpg") no-repeat;  background-size: cover;  height: 750px;  .title {    font-weight: Bold;    font-size: 40px;    color: #ffffff;    text-align: center;  }  .main {    max-width: 1660px;    min-width: 1360px;    margin: auto;    .tab-wrap {      margin: 40px 0 60px;      display: flex;      justify-content: center;      .list-box {        margin: 0 30px;        width: 180px;        height: 50px;        background: #ffffff;        color: #333333;        text-align: center;        line-height: 50px;        font-size: 20px;        cursor: pointer;        &:hover {          background: #FBB03F;          color: #ffffff;        }      }      .active {        background: #FBB03F;        color: #ffffff;      }    }    .list-wrap {      display: flex;      flex-wrap: wrap;      justify-content: space-between;      .list-box {        width: 48%;        max-width: 790px;        min-width: 660px;        height: 170px;        overflow: hidden;        padding: 35px 45px 0 29px;        background: #ffffff;        cursor: pointer;        white-space: pre-wrap;        &:hover {          .title {            color: #15A98D;          }        }        .title {          color: #333333;          font-weight: bold;          font-size: 20px;          text-align: left;          @include ellipsisLn(1);          transition: all .25s;        }        .desc {          margin-top: 24px;          font-size: 16px;          color: #666666;          @include ellipsisLn(2);          line-height: 25px;          text-indent: 2em;        }      }    }  }}</style>