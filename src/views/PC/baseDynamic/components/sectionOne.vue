<template>  <div class="section-one">    <div class="title" @click="$router.push('/pc/baseDynamic/list?channelCode=jddt1')">基地动态</div>    <div class="tab-wrap">      <div v-for="(item, index) in tabList" :key="index" class="list-box" :class="{active: index === currentIndex}" @click="itemClick(item, index)">        {{ item.name }}      </div>    </div>    <div class="main" v-if="currentIndex === 0">      <div class="left wow bounceInLeft" v-if="list[0]" @click="PCJumpDetails(list[0], 'jddt')">        <div class="img-box" :style="{'background-image': `url(${getUrl(list)})`, 'background-size': 'cover'}"></div>        <div class="text">          <div class="title">{{ list[0].title }}</div>          <div class="desc">{{ getDesc(list[0].summary) }}</div>          <div class="time">{{ list[0].publishTime }}</div>        </div>      </div>      <div class="right">        <div v-for="(item, index) in list" :key="index" v-show="index > 0 && index < 4" @click="PCJumpDetails(item, 'jddt')" class="right-list-box text wow bounceInRight">          <div class="title">{{ item.title }}</div>          <div class="desc">{{ getDesc(item.summary) }}</div>          <div class="time">{{ item.publishTime }}</div>        </div>      </div>      <div class="more-btn-one" @click="$router.push('/pc/baseDynamic/list?channelCode=jddt1')">        更多        <MyIcon :name="'shuangjiantou'" size="10px"/>      </div>    </div>    <div class="main" v-else>      <div class="right">        <div v-for="(item, index) in list.slice(0, 3)" :key="index" @click="PCJumpDetails(item, 'jddt')" class="right-list-box text wow bounceInRight">          <div class="title">{{ item.title }}</div>          <div class="desc">{{ getDesc(item.summary) }}</div>          <div class="time">{{ item.publishTime }}</div>        </div>      </div>      <div class="right">        <div v-for="(item, index) in list.slice(3, 6)" :key="index" @click="PCJumpDetails(item, 'jddt')" class="right-list-box text wow bounceInRight">          <div class="title">{{ item.title }}</div>          <div class="desc">{{ getDesc(item.summary)  }}</div>          <div class="time">{{ item.publishTime }}</div>        </div>      </div>      <div class="more-btn-one" @click="$router.push('/pc/baseDynamic/list?channelCode=dwgg')">        更多        <MyIcon :name="'shuangjiantou'" size="10px"/>      </div>    </div>  </div></template><script>import { getChannelSubset, getNewsList } from '@/service/apiList/common'export default {  name: 'sectionOne',  inject: ['PCJumpDetails'],  data () {    return {      tabList: [],      currentIndex: 0,      list: [],      noImg: 'https://file.daqsoft.com/uploadfile/server/geekui/panda/PC/no-photo.png'    }  },  computed: {    getUrl() {      return (list) => {        try {          return list[0].imageUrls[0].url        } catch (error) {          return this.$Placeholder        }      }    },    getDesc() {      return (desc) => {        let reg = /\s+/g        let trimStr = desc.replace(reg,'')        return trimStr      }    }  },  async mounted () {    await this.getChannelSubset()    await this.getNewsList(this.tabList[0].channelCode)  },  methods: {    itemClick (item, index) {      if(this.currentIndex !== index) {        this.currentIndex = index      }      this.getNewsList(item.channelCode)    },    async getChannelSubset() {      const res = await getChannelSubset({ channelCode: 'jddt' })      if (res.code === 0) {        this.tabList = res.data.subset.filter((item) => {          return item.name === '基地动态' || item.name === '单位公告'        })      }    },    async getNewsList(channelCode) {      const res = await getNewsList({ channelCode: channelCode, pageSize: 10, currPage: 1 })      if (res.code === 0) {        this.list = res.datas      }    }  }}</script><style lang="scss" scoped>.section-one {  width: 100%;  padding: 80px 0;  background: #ffffff;  text-align: center;  .title {    display: inline-block;    font-weight: Bold;    font-size: 40px;    color: #333333;    text-align: center;    cursor: pointer;  }  .tab-wrap {    margin: 40px 0 60px;    display: flex;    justify-content: center;    .list-box {      margin: 0 30px;      width: 180px;      height: 50px;      background: #ffffff;      color: #333333;      text-align: center;      line-height: 50px;      border: 1px solid #D9D9D9;      font-size: 20px;      cursor: pointer;      &:hover {        background: #15A98D;        color: #ffffff;        border-color: #15A98D;      }    }    .active {      background: #15A98D;      color: #ffffff;      border-color: #15A98D;    }  }  .main {    max-width: 1660px;    min-width: 1360px;    margin: auto;    display: flex;    justify-content: space-between;    position: relative;    .left, .right {      width: 49%;      max-width: 790px;      min-width: 660px;      height: 635px;      .text {        padding: 36px 44px 29px 30px;        background: rgba(245,245,245,1);        height: 180px;        overflow: hidden;        .title {          color: #333333;          font-size: 20px;          font-weight: bold;          text-align: left;          @include ellipsisLn(1);          transition: 0.25s all;        }        .desc {          color: #666666;          height: 42px;          font-size: 16px;          margin: 19px 0 20px;          line-height: 21px;          @include ellipsisLn(2);          text-align: left;          text-indent: 2em;        }        .time {          color: #999999;          font-size: 14px;          text-align: left;        }      }    }    .left {      cursor: pointer;      .img-box {        width: 100%;        height: 455px;      }      &:hover {        .title {          color: #15a98d;        }      }    }    .right {      display: flex;      align-content: space-between;      flex-wrap: wrap;      .right-list-box {        width: 100%;        height: 190px;        cursor: pointer;        &:hover {          .title {            color: #15a98d;          }        }      }    }  }}</style>