<template>  <H5LayoutJp>    <Banner />    <H5TabList />    <div class="details">      <div class="title">{{ details.title }}</div>      <div class="time" v-if="isShow.includes(tab) ">{{ details.publishTime }}</div>      <div v-if="details.videoInfo" class="video-wrap">        <video :src="details.videoInfo.url" controls :poster="details.videoInfo.imgUrl"></video>      </div>      <div v-if="details.content" v-html="details.content"></div>      <AudioBox :list="details.audioInfo1" v-if="tab === 'xmyl'"/>      <!-- 骨架屏 -->      <!--<div v-if="!details.content && !isSkeleton" class="no-data">        <img src="https://file.daqsoft.com/uploadfile/server/geekui/panad/01065f5c-b833-4a97-ad2b-404a2e506fc0.gif" alt="" />      </div>-->    </div>  </H5LayoutJp></template><script>import { getDetail, getSimplifyList } from '@/service/apiList/common'import Banner from '@/views/Japanese/components/Banner.vue'import AudioBox from '@/components/AudioBox.vue'import H5TabList from '@/views/Japanese/components/H5TabList.vue'export default {  name: 'listIndex',  components: {    Banner,    H5TabList,    AudioBox  },  data() {    return {      details: '',      isSkeleton: false,      isShow: ['zxxw', 'sj', 'xmyw', 'xmhd', 'ywsd', 'kpdt'],    }  },  computed: {    tab () {      return this.$route.query.tab    }  },  watch: {    $route: {      handler(to) {        // 列表过来的        if (to.query.id) {          this.getDetails(to.query.id)        } else {          // 详情过来的          getSimplifyList({            channelCode: to.query.tab,          }).then((res) => {            if (res.code === 0) {              try {                this.getDetails(res.datas[0].id)              } catch (error) {                return ''              }            }          })        }      },      immediate: true,      deep: true,    },  },  methods: {    getDetails(id) {      this.isSkeleton = true      getDetail({ id }).then(res => {        if (res.code === 0) {          this.details = res.data          document.title = this.details.title        }      }).finally(() => {        this.isSkeleton = false      })    },  }}</script><style lang="scss" scoped>.title {  font-weight: bold;  color: #333333;  font-size: .3rem;  margin-bottom: .3rem;  line-height: .5rem;}.time {  margin: 0 0 .3rem;  text-align: right;  color: #666666;  font-size: .2rem;}.details {  padding: .1rem .4rem 1rem;  font-family: 'Microsoft YaHei', Arial, Helvetica, sans-serif;  line-height: .3rem;  ::v-deep video {    width: 100% !important;  }}.video-wrap {  text-align: center;  video {    width: 100%;    margin: auto;    object-fit: cover;  }}.no-data {  width: 4rem;  margin: auto;  position: relative;  z-index: 10;  img {    width: 100%;  }}</style>