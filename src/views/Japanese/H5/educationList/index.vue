<template>  <H5LayoutJp>    <div      class="banner-jp"      :style="{        'background-image': 'url(' + getUrl(bannerItem.backgroundImg) + ')',        'background-size': 'cover',        'background-repeat': 'no-repeat',      }"    >      <div class="title">{{ bannerItem.summary }}</div>      <div class="text">{{ strIntercept(bannerItem.name) }}</div>    </div>    <div class="content">      <div class="list-wrap">        <div class="list-box" v-for="(item, index) in tabList" v-show="item.channelCode !== 'dxmkpzs'" :key="index" :class="{active: current === item.channelCode}" @click="tabClick(item)">          {{ strIntercept(item.name) }}        </div>      </div>      <div class="gradient"></div>    </div>    <!-- ±³¾°Í¼ -->    <img class="img" src="https://file.daqsoft.com/uploadfile/server/geekui/panda/PC/Japanese/list/bg2.jpg" alt="" />    <List :channelCode="channelCode" :dxmkpzs="dxmkpzs"/>  </H5LayoutJp></template><script>import { getChannelDetail, getChannelSubset } from '@/service/apiList/common'import List from './components/List.vue'export default {  name: 'listIndex',  components: {    List  },  data () {    return {      channelCode: '',      bannerItem: {},      activeItem: 'kpzlk',      tabList: [],      current: '',      dxmkpzs: {}    }  },  computed: {    getUrl() {      return (url) => {        if (url) {          return url        }        return this.$Placeholder      }    },    strIntercept() {      return (item) => {        try {          return item.includes('£¨') ? item.substring(0, item.indexOf('£¨')) : item        } catch (error) {          return item        }      }    }  },  created() {    this.getChannelDetail('education')    this.getChannelSubset('kpzlk')  },  methods: {    async getChannelDetail(channelCode) {      const res = await getChannelDetail({ channelCode })      if (res.code === 0) {        this.bannerItem = res.data      }    },    tabClick(item) {      document.title = this.strIntercept(item.name)      this.current = item.channelCode      this.channelCode = item.channelCode      this.$router.push({        path: this.$route.path,        query: {          channelCode: item.channelCode        }      })    },    async getChannelSubset(channelCode) {      const res = await getChannelSubset({        channelCode,      })      if (res.code === 0) {        this.tabList = res.data.subset        this.current = this.tabList[0].channelCode        this.channelCode = this.tabList[0].channelCode        this.tabList.forEach(item => {          if(item.channelCode === 'dxmkpzs') {            this.dxmkpzs = item          }        })        this.getDefault()      }    },    getDefault() {      if(location.href.includes('channelCode')) {        let str = location.href.substring(location.href.lastIndexOf('channelCode=') + 12, location.href.length)        this.tabList.forEach(item => {          if(item.channelCode === str) {            this.tabClick(item)          }        })      }    }  }}</script><style lang="scss" scoped>  .banner-jp {    width: 7.5rem;    height: 4.22rem;    overflow: hidden;    text-align: center;    .title {      font-family: 'Edwardian Script ITC';      margin: 1rem 0 0.3rem;      font-size: 0.42rem;      color: rgba(255, 255, 255, 0.75);    }    .text {      font-size: 0.32rem;      color: #ffffff;    }  }  .content {    width: 6.7rem;    height: 1rem;    margin: auto;    background: #ffffff;    overflow: hidden;    position: relative;    bottom: .5rem;    box-shadow: 0 0 .4rem 0 rgba(0, 0, 0, 0.1);    .list-wrap {      width: auto;      padding: .3rem;      height: 100%;      white-space: nowrap;      overflow-x: scroll;      .list-box {        display: inline-block;        font-size: .24rem;        font-weight: bold;        margin: 0 .4rem;        position: relative;      }      &::-webkit-scrollbar {        display: none;      }      .active {        color: #15a98d;        &::before {          width: 0.06rem;          height: 0.06rem;          content: '';          position: absolute;          top: 0.16rem;          left: -0.16rem;          background: #00AC35;          border-radius: 50%;        }      }    }    .gradient {      height: 100%;      width: .5rem;      position: absolute;      bottom: 0;      right: 0;      background-image: linear-gradient(to right, rgba(255, 255, 255, 0.8), rgba(255, 255, 255, 1));    }  }  .img {    width: 100%;    height: calc(100vh - 1.2rem);    position: sticky;    top: 1.2rem;    left: 0;    z-index: -1;  }  .main {    width: 100%;    height: 15.5rem;    background-image: url('https://file.daqsoft.com/uploadfile/server/geekui/panda/PC/Japanese/list/bg2.jpg');    background-size: cover;    background-position: center bottom;    background-repeat: no-repeat;  }</style>