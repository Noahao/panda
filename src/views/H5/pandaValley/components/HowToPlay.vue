<template>  <div class="how-to-play">    <div class="title">玩转熊猫谷</div>    <div class="birds">      <div class="item" v-for="item in birdsList" :key="item.id">        <div class="num">{{ item.num }}</div>        <div class="name">{{ item.name }}</div>      </div>    </div>    <div class="text" v-if="details.summary" v-html="getText(details.summary)"></div>    <span class="span" @click="jump('xmg')"> [ 查看更多 ] </span>    <div class="ticket">      <div class="box" @click="jump('gpjyy')">        <div class="title">购票及预约</div>        <div class="text">全面实现智慧化景区，提前购买门票或预约服务</div>        <div class="button">立即预订</div>      </div>      <div class="box" @click="jump('xmgxc')">        <div class="title">熊猫谷相册</div>        <div class="text">发现多彩世界，开启行摄之旅</div>        <div class="button">立即查看</div>      </div>      <div class="box" @click="jump('dtdl')">        <div class="title">地图导览</div>        <div class="text">手绘地图别样精彩，带你一分钟了解游览攻略</div>        <div class="button">立即查看</div>      </div>    </div>  </div></template><script>import { getChannelDetail, getNewsList } from '@/service/apiList/common'export default {  name: 'HowToPlay',  inject: ['jumpDetails'],  data() {    return {      birdsList: [        {          name: '兽类',          num: '21',        },        {          name: '鸟类',          num: '131',        },        {          name: '植物',          num: '515',        },      ],      details: {},    }  },  created() {    this.getChannelDetail()  },  computed: {    getText() {      return (text) => {        if (text && text.length > 33) {          return `<span>${text.substring(0, 28)}</span>          <span>${text.substring(28, text.length)}</span>          `        }        return `<span>${text}</span>          `      }    },  },  methods: {    async getChannelDetail() {      const res = await getChannelDetail({ channelCode: 'wzxmg' })      if (res.code === 0) {        this.details = res.data      }    },    jump(text) {      if (text === 'xmgxc') {        this.$router.push('/h5/generalList?channelCode=xmgxc&banner=xmwh')        return      }      getNewsList({ channelCode: text }).then((res) => {        try {          this.jumpDetails(res.datas[0], 'xmg')        } catch (error) {          return ''        }      })    },  },}</script><style lang="scss" scoped>.how-to-play {  background: #f5f5f5;  text-align: center;  > .title {    font-weight: Bold;    font-size: 0.46rem;    color: #333333;    line-height: 1;    padding: 0.79rem 0 0.6rem;  }  > .birds {    display: flex;    justify-content: space-around;    margin-bottom: 0.49rem;    padding: 0 0.3rem;    .item {      .num {        font-weight: Bold;        font-size: 0.6rem;        color: #15a98d;        line-height: 1;        margin-bottom: 0.14rem;      }      .name {        font-weight: 500;        font-size: 0.24rem;        color: #666666;        line-height: 1;      }    }  }  > .text {    padding: 0 0.58rem;    line-height: 0.36rem;    font-weight: 500;    font-size: 0.24rem;    color: #333333;    ::v-deep span {      text-align: center;      display: block;      &:nth-child(2) {        width: 5rem;        @include ellipsis(5rem);        margin: auto;      }    }  }  .span {    line-height: 0.36rem;    font-weight: 500;    font-size: 0.24rem;    color: #333333;  }  > .ticket {    background: url('https://file.daqsoft.com/uploadfile/server/geekui/panda/H5/预约购票.png') no-repeat;    background-size: 7.5rem 14.77rem;    background-position-y: -4.5rem;    height: 10.24rem;    padding: 0.6rem 0.3rem;    .box {      padding: 0.59rem 0.3rem 0.4rem;      text-align: center;      background: rgba(255, 255, 255, 0.7);      margin-bottom: 0.5rem;      &:hover {        .button {          background: #15a98d;          color: #fff;          border: 0.01rem solid #15a98d;        }      }      > .title {        line-height: 1;        font-weight: Bold;        font-size: 0.26rem;        color: #333333;      }      > .text {        font-weight: 500;        font-size: 0.24rem;        color: #666666;        line-height: 1;        padding: 0.24rem 0 0.28rem;      }      > .button {        margin: auto;        width: 2rem;        height: 0.6rem;        border-radius: 0.3rem;        background: #ffffff;        font-size: 0.24rem;        color: #666666;        line-height: 0.6rem;        border: 0.01rem solid #b7b7b7;      }    }  }}</style>