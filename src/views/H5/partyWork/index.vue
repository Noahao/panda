<template>  <H5Layout>    <H5Banner channelCode="djgz" />    <!-- 新闻动态 -->    <div class="domestic" v-if="list.length">      <div class="title">新闻动态</div>      <div class="list">        <div class="item" @click="jumpDetails(item, 'djgz')" v-for="item in list" :key="item.id">          <img :src="(item.imageUrls.length && item.imageUrls[0].url) || $Placeholder" alt="" />          <div class="box">            <div class="title">{{ item.title }}</div>            <div class="text" v-if="item.summary">{{ item.summary }}</div>            <div class="time">{{ item.publishTime }}</div>          </div>        </div>      </div>    </div>    <MoreAndMore path="/h5/generalList?channelCode=xwdt&banner=djgz" />    <!-- 党的建设 -->    <div class="construction">      <div style="padding-top: 0.6rem" class="title">党的建设</div>      <div class="tab">        <div :class="tabItem.channelCode === item.channelCode ? 'active' : ''" v-for="item in tab" :key="item.id" @click="tabClick(item)">          {{ item.name }}        </div>      </div>      <div class="list">        <div class="item" @click="jump(item)" v-for="item in construction" :key="item.id">          <p class="title">{{ item.title }}</p>          <p class="text">{{ item.summary }}</p>        </div>      </div>      <MoreAndMore path="/h5/partyWork/list" color="#fff" border="#fff" />    </div>    <!-- 职工之家 -->    <div class="worker-home" v-if="homeList.length">      <div class="title">职工之家</div>      <div>        <div class="item" @click="jumpDetails(item, 'djgz')" v-for="item in homeList" :key="item.id">          <p class="title">{{ item.title }}</p>          <p class="text" v-if="item.summary">{{ item.summary }}</p>          <p class="time">{{ item.publishTime }}</p>        </div>      </div>      <MoreAndMore path="/h5/generalList?channelCode=zgzj&banner=djgz" />    </div>  </H5Layout></template><script>import { getNewsList, getChannelSubset } from '@/service/apiList/common'import MoreAndMore from '@/views/H5/components/MoreAndMore.vue'export default {  name: 'PartWork',  inject: ['jumpDetails'],  components: {    MoreAndMore,  },  data() {    return {      list: [],      construction: [],      tab: [],      homeList: [],      tabItem: {},    }  },  created() {    this.getNewsList()    this.getChannelSubset()    this.getHome()  },  methods: {    // 新闻动态    async getNewsList() {      const res = await getNewsList({        channelCode: 'xwdt',        pageSize: 3,        currPage: 1,      })      if (res.code === 0) {        this.list = res.datas      }    },    // tab切换    tabClick(item) {      this.tabItem = item      this.construction = []      this.getList(item.channelCode)    },    // 党的建设    async getList(channelCode) {      const res = await getNewsList({        channelCode,        pageSize: 4,        currPage: 1,      })      if (res.code === 0) {        this.construction = res.datas      }    },    // tab    async getChannelSubset() {      const res = await getChannelSubset({        channelCode: 'ddjs',      })      if (res.code === 0) {        this.tab = res.data.subset        this.tabItem = this.tab[0]        this.getList(this.tab[0].channelCode)      }    },    // 职工之家    async getHome() {      const res = await getNewsList({        channelCode: 'zgzj',        pageSize: 4,        currPage: 1,      })      if (res.code === 0) {        this.homeList = res.datas      }    },    jump(item) {      this.$router.push({        path: '/h5/details',        query: {          id: item.id,          channelCode: 'djgz',          tab: 'ddjs',        },      })    },  },}</script><style lang="scss" scoped>.domestic {  > .title {    padding: 0.79rem 0 0.5rem;    font-weight: Bold;    font-size: 0.46rem;    text-align: center;    color: #333333;    line-height: 1;  }  > .list {    padding: 0 0.3rem;    > .item {      background: rgba(245, 245, 245, 1);      margin-bottom: 0.4rem;      &:last-child {        margin: 0;      }      > img {        width: 100%;        height: 3.83rem;      }      > .box {        padding: 0.4rem 0.2rem;        .title {          font-weight: Bold;          font-size: 0.26rem;          line-height: 1;          color: #333333;          @include ellipsis();        }        .text {          text-indent: 0.48rem;          margin-top: 0.3rem;          font-size: 0.24rem;          color: #666666;          line-height: 0.36rem;          @include ellipsisLn(2);        }        .time {          margin-top: 0.28rem;          font-weight: 500;          font-size: 0.2rem;          color: #999999;          line-height: 1;        }      }    }  }}.construction {  margin-top: 0.4rem;  width: 7.5rem;  height: 11.8rem;  background: url('https://file.daqsoft.com/uploadfile/server/geekui/panda/H5/党的建设banner.png') no-repeat;  background-size: 100%;  > .title {    padding: 0.79rem 0 0.5rem;    font-weight: Bold;    font-size: 0.46rem;    color: #fff;    line-height: 1;    text-align: center;  }  > .tab {    display: flex;    justify-content: center;    .active {      background: #fbb03f;      color: #ffffff;    }    > div {      width: 2rem;      height: 0.6rem;      background: rgba(255, 255, 255, 1);      line-height: 0.6rem;      text-align: center;      margin-left: 0.3rem;      color: #333333;      font-size: 0.24rem;      &:first-child {        margin: 0;      }    }  }  > .list {    padding: 0.5rem 0.3rem 0;    > .item {      padding: 0.35rem 0.3rem;      width: 6.9rem;      max-height: 1.8rem;      background: rgba(255, 255, 255, 1);      margin-bottom: 0.3rem;      &:last-child {        margin: 0;      }      .title {        line-height: 1;        font-weight: Bold;        font-size: 0.26rem;        color: #333333;        @include ellipsis();      }      .text {        text-indent: 0.48rem;        margin-top: 0.2rem;        font-size: 0.24rem;        color: 0.24rem;        line-height: 0.36rem;        color: #666666;        @include ellipsisLn(2);      }    }  }}.worker-home {  margin: 0 0.3rem 0.4rem;  > .title {    font-weight: Bold;    font-size: 0.46rem;    color: #333333;    line-height: 1;    padding: 0.79rem 0 0.5rem;    text-align: center;  }  .item {    max-height: 2.43rem;    padding: 0.4rem 0.21rem 0.44rem;    background: rgba(245, 245, 245, 1);    margin-bottom: 0.2rem;    &:last-child {      margin: 0;    }    > .title {      font-weight: Bold;      font-size: 0.26rem;      color: #333333;      line-height: 1;      @include ellipsis();    }    > .text {      text-indent: 0.48rem;      margin-top: 0.29rem;      font-size: 0.24rem;      color: #666666;      line-height: 0.36rem;      @include ellipsisLn(2);    }    > .time {      margin-top: 0.29rem;      font-weight: 500;      font-size: 0.2rem;      color: #999999;    }  }}</style>