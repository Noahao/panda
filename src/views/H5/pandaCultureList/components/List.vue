<template>  <div class="focus-activity">    <div class="focus-list" v-if="['xmhd'].includes(activeItem.channelCode)">      <div class="item" v-for="item in list" :key="item.id" @click="jumpDetails(item, 'xmwh')">        <img :src="item.imageUrls.length && item.imageUrls[0].url || $Placeholder" alt="" />        <div class="box" >          <div class="title">{{ item.title }}</div>          <div class="time">{{ item.publishTime }}</div>        </div>      </div>    </div>    <div class="video-list" v-if="['xmbz' , 'xmsp'].includes(activeItem.channelCode)">      <div class="item" v-for="item in list" :key="item.id">        <img :src="item.imageUrls.length && item.imageUrls[0].url || $Placeholder" alt="" />        <div class="bg">{{ item.title }}</div>      </div>    </div>    <div class="troupe-list" v-if="['xmyst'].includes(activeItem.channelCode)">      <div class="item" @click="jumpDetails(item, 'xmwh')" v-for="item in list" :key="item.id">        <img :src="item.imageUrls.length && item.imageUrls[0].url || $Placeholder" alt="" />        <div class="left">          <div class="name">{{ item.title }}</div>          <div class="text">            {{ item.summary }}          </div>          <div class="look">查看作品 <MyIcon name="changjiantou" size="0.26rem" color="#666" /></div>        </div>      </div>    </div>    <div class="paging" v-if="list.length">      <div @click="page(-1)" v-show="params.currPage !== 1 && params.currPage <= totalPage">上一页</div>      <div v-show="params.currPage < totalPage" @click="page(1)">下一页</div>    </div>  </div></template><script>import { getNewsList } from '@/service/apiList/common'export default {  name: 'listBox',  inject: ['jumpDetails'],  props: {    activeItem: {      type: Object,      default: () => {        return {}      },    },  },  data() {    return {      params: {        channelCode: '',        pageSize: 5,        currPage: 1,      },      list: [],      totalPage: 0, // 分页数    }  },  watch: {    activeItem: {      handler(val) {        this.params.channelCode = val.channelCode        this.params.currPage = 1        this.params.pageSize = 5        if (val.channelCode === 'kpzlk') {          this.params.pageSize = 4        }        this.list = []        this.getNewsList()      },      deep: true,    },  },  methods: {    async getNewsList() {      const res = await getNewsList(this.params)      if (res.code === 0) {        try {          this.totalPage = res.page.totalPage          if (['gfdy', 'xmmsg', 'xmys', 'xmyl'].includes(this.params.channelCode)) {            this.jumpDetails(res.datas[0], 'kpjy')            return          }          this.list = res.datas        } catch (error) {          return ''        }      }    },    page(num) {      this.params.currPage += num      this.getNewsList()    },  },}</script><style lang="scss" scoped>.focus-activity {  padding: 0.5rem 0.3rem 0.79rem;  > .focus-list {    > .item {      background: rgba(245, 245, 245, 1);      margin-bottom: 0.4rem;      > img {        width: 100%;        height: 3.83rem;      }      > .box {        padding: 0.4rem 0.2rem;        .title {          font-weight: Bold;          font-size: 0.26rem;          line-height: 1;          color: #333333;          @include ellipsis();        }        .time {          margin-top: 0.28rem;          font-weight: 500;          font-size: 0.2rem;          color: #999999;          line-height: 1;        }      }    }  }  > .video-list {    margin-bottom: 0.2rem;    > .item {      margin-bottom: 0.5rem;      position: relative;      > img {        width: 100%;        height: 3.88rem;      }      > .bg {        padding: 0 0.2rem;        position: absolute;        bottom: 0;        width: 6.9rem;        height: 0.79rem;        background: rgba(0, 0, 0, 0.3);        font-weight: 500;        color: #ffffff;        font-size: 0.24rem;        text-align: center;        line-height: 0.79rem;        @include ellipsis(100%);      }    }  }  > .troupe-list {    .item {      margin-bottom: 0.6rem;      display: flex;      img {        width: 2rem;        height: 2.8rem;        object-fit: cover;      }      .left {        margin-left: 0.24rem;        flex: 1;        position: relative;        .name {          font-weight: Bold;          line-height: 1;          margin-bottom: 0.35rem;          font-size: 0.36rem;          @include ellipsis();        }        .text {          text-indent: 0.48rem;          font-size: 0.36rem;          color: #666666;          font-size: 0.24rem;          @include ellipsisLn(4);        }        .look {          position: absolute;          bottom: 0.16rem;          font-weight: 500;          font-size: 0.2rem;          color: #999999;          display: flex;          line-height: 1;          align-items: center;          i {            margin-left: 0.1rem;          }        }      }    }  }}.paging {  margin: auto;  display: flex;  width: 4rem;  justify-content: space-around;  color: #666;  div {    font-weight: 500;    font-size: 0.26rem;    padding: 0.14rem 0.4rem;    line-height: 1;    border-radius: 0.26rem;    border: 0.01rem solid #d8d8d8;  }}</style>