<template>  <div class="list">    <div class="focus-list" v-if="['kpdt'].includes(activeItem.channelCode)">      <div class="item" @click="jumpDetails(item, 'kpjy')" v-for="item in list" :key="item.id">        <img v-if="item.imageUrls.length && item.imageUrls[0].url || $Placeholder" alt="" />        <div class="box">          <div class="title">{{ item.title }}</div>          <div class="time">{{ item.publishTime }}</div>        </div>      </div>    </div>    <div class="the-booth" v-if="['kpzlk'].includes(activeItem.channelCode)">      <div class="box">        <div class="box-list" @click="jumpDetails(item, 'kpjy')" v-for="(item, index) in list" :key="item.id">          <div class="item">            <img :src="item.imageUrls.length && item.imageUrls[0].url || $Placeholder" alt="" />            <div>{{ item.title }}</div>          </div>          <img v-if="(index + 1) % 2 !== 0" class="img" src="https://file.daqsoft.com/uploadfile/server/geekui/panda/H5/展台.png" alt="" />        </div>      </div>    </div>    <!-- 小游戏 -->    <div class="video-list" v-if="['xmxyx'].includes(activeItem.channelCode)">      <div class="item" v-for="item in list" :key="item.id">        <img :src="item.imageUrls.length && item.imageUrls[0].url || $Placeholder" alt="" />        <div class="bg">{{ item.title }}</div>      </div>    </div>    <div class="paging" v-if="list.length">      <div @click="page(-1)" v-show="params.currPage !== 1 && params.currPage <= totalPage">上一页</div>      <div v-show="params.currPage < totalPage" @click="page(1)">下一页</div>    </div>  </div></template><script>import { getNewsList } from '@/service/apiList/common'export default {  name: 'ListBox',  inject: ['jumpDetails'],  props: {    activeItem: {      type: Object,      default: () => {        return {}      },    },  },  data() {    return {      params: {        channelCode: '',        pageSize: 5,        currPage: 1,      },      list: [],      totalPage: 0, // 分页数    }  },  watch: {    activeItem: {      handler(val) {        this.params.channelCode = val.channelCode        this.params.currPage = 1        this.params.pageSize = 5        if (val.channelCode === 'kpzlk') {          this.params.pageSize = 4        }        this.list = []        this.getNewsList()      },      deep: true,    },  },  methods: {    async getNewsList() {      const res = await getNewsList(this.params)      if (res.code === 0) {        try {          this.totalPage = res.page.totalPage          if (['zyzzj', 'hdyy', 'kpcg', 'kpjyjs'].includes(this.params.channelCode)) {            this.jumpDetails(res.datas[0], 'kpjy')            return          }          this.list = res.datas        } catch (error) {          return ''        }      }    },    page(num) {      this.params.currPage += num      this.getNewsList()    },  },}</script><style lang="scss" scoped>.list {  padding: 0.6rem 0.3rem;  .the-booth {    margin: 0 0.28rem 0.79rem;    .box {      margin-bottom: 0.54rem;      display: flex;      justify-content: space-around;      flex-wrap: wrap;      .box-list {        margin-bottom: 0.54rem;      }      .img {        margin-top: -0.9rem;        position: absolute;        left: 50%;        transform: translateX(-50%);        width: 6.72rem;        height: 0.59rem;      }      .item {        margin-left: 0.1rem;        img {          width: 2.09rem;          height: 2.78rem;        }        div {          margin-top: 0.6rem;          font-weight: Bold;          font-size: 0.24rem;          text-align: center;          color: #333333;        }      }    }  }  > .focus-list {    > .item {      background: rgba(245, 245, 245, 1);      margin-bottom: 0.4rem;      > img {        width: 100%;        height: 3.83rem;      }      > .box {        padding: 0.4rem 0.2rem;        .title {          font-weight: Bold;          font-size: 0.26rem;          line-height: 1;          color: #333333;          @include ellipsis();        }        .time {          margin-top: 0.28rem;          font-weight: 500;          font-size: 0.2rem;          color: #999999;          line-height: 1;        }      }    }  }  > .video-list {    margin-bottom: 0.2rem;    > .item {      margin-bottom: 0.5rem;      position: relative;      > img {        width: 100%;        height: 3.88rem;      }      > .bg {        padding: 0 0.2rem;        position: absolute;        bottom: 0;        width: 6.9rem;        height: 0.79rem;        background: rgba(0, 0, 0, 0.3);        font-weight: 500;        color: #ffffff;        font-size: 0.24rem;        text-align: center;        line-height: 0.79rem;        @include ellipsis(100%);      }    }  }  .paging {    margin: auto;    display: flex;    width: 4rem;    justify-content: space-around;    color: #666;    div {      font-weight: 500;      font-size: 0.26rem;      padding: 0.14rem 0.4rem;      line-height: 1;      border-radius: 0.26rem;      border: 0.01rem solid #d8d8d8;    }  }}</style>